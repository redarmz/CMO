<h2 class="page-title">Liste des Restaurants pour une réservation</h2>

<div class="restaurant-list">
  <div class="restaurant-card" *ngFor="let restaurant of restaurants">
    <div class="restaurant-info">
      <h4 class="restaurant-name">{{ restaurant.name }}</h4>
      <p class="restaurant-details">Capacité pour la semaine : {{ restaurant.capacity }} couverts / Ouvert le : {{ restaurant.days.join(', ') }}</p>
    </div>
    <button class="btn-select" (click)="selectRestaurant(restaurant)">Sélectionner</button>
  </div>
</div>

<div *ngIf="selectedRestaurant" class="reservation-form">
  <h3 class="form-title">Réservation pour {{ selectedRestaurant.name }}</h3>
  
  <div class="form-group">
    <label for="nom">Nom:</label>
    <input type="text" id="nom" name="nom" [(ngModel)]="nom" required class="form-control">
  </div>

  <div class="form-group">
    <label for="numberOfPeople">Nombre de personnes:</label>
    <input type="number" id="numberOfPeople" name="numberOfPeople" [(ngModel)]="numberOfPeople" required class="form-control">
  </div>

  <div class="form-group">
    <label for="selectedDay">Jour de la réservation:</label>
    <div id="selectedDayButtons" class="day-buttons">
      <button *ngFor="let day of joursSemaine" (click)="selectDay(day)" class="btn-day">{{ day }}</button>
    </div>
    <p id="selectedDayDisplay" *ngIf="selectedDay">Jour sélectionné : {{ selectedDay }}</p>
  </div>

  <div class="form-group">
    <label for="numEvent">Numéro d'événement:</label>
    <input type="number" id="numEvent" name="numEvent" [(ngModel)]="numEvent" required class="form-control">
  </div>

  <div class="card reservation-calendar">
    <h2>Réservation via Google Calendar</h2>
    <form [formGroup]="appointmentForm" (ngSubmit)="scheduleMeeting()">
      <div class="form-group">
        <label for="appointmentTime">Date et heure sélectionnées pour l'événement :</label>
        <input type="datetime-local" id="appointmentTime" formControlName="appointmentTime" class="form-control">
      </div>
      <div class="form-group">
        <label for="email">Personnes que vous souhaitez inviter (adresses e-mail) :</label>
        <input type="email" id="email" class="form-control" formControlName="email">
      </div>
      <button type="submit" id="schedule-button" class="btn-submit">Envoyer l'invitation</button>
    </form>
  </div>

  <button (click)="reserve()" class="btn-reserve">Réserver</button>
</div>

<div class="retour">
  <h3>Retour à la page d'accueil événement</h3>
  <button (click)="redirectToEventPage()" class="btn-back">Retour</button>
</div>
